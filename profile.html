<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/profile.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body style="background-color: black">
<div class="container mt-4 mb-4 p-3 d-flex justify-content-center">
    <div class="card p-4">
        <div class=" image d-flex flex-column justify-content-center align-items-center">
            <button class="btn btn-secondary"><img id="img" src="" height="100" width="100" style="border-radius: 50% ; border: 4px solid gray"/>
            </button>
            <span class="name mt-3" id="name"></span> <span class="idd" id="name2"></span>
            <div class="d-flex flex-row justify-content-center align-items-center gap-2"><span class="idd1" id="address"></span>
                <span><i class="fa fa-copy"></i></span></div>
            <div class="d-flex flex-row justify-content-center align-items-center mt-3"><span class="number">1069 <span
                    class="follow">Followers</span></span></div>
            <div class=" d-flex mt-2">
                <button class="btn1 btn-dark">Edit Profile</button>
            </div>
            <div class="text mt-3">
                <span><h7 id="content"></h7><br><br> <h7 id="content2"></h7></span>
            </div>
            <div class="gap-3 mt-3 icons d-flex flex-row justify-content-center align-items-center"><span><i
                    class="fa fa-twitter"></i></span> <span><i class="fa fa-facebook-f"></i></span> <span><i
                    class="fa fa-instagram"></i></span> <span><i class="fa fa-linkedin"></i></span></div>
            <div class=" px-2 rounded mt-4 date "><span class="join" id="join"></span></div>
            <div class=" px-2 rounded mt-4 date "><span class="join"><a href="index.html">Home</a></span></div>
        </div>
    </div>
</div>
<script>
    let idAccount = localStorage.getItem('idAccount');
    function getAccount() {
        if (idAccount) {
            $.ajax({
                type: "GET",
                headers: {
                    'Accept': 'application/json',
                    "Authorization": "Bearer " + localStorage.getItem('token'),
                },
                url: `http://localhost:8080/apiAccount/`+idAccount,
                success: function (account) {
                     document.getElementById("img").src = account.image;
                     document.getElementById("name").innerHTML = account.username;
                     document.getElementById("name2").innerHTML = account.email;
                     document.getElementById("address").innerHTML = account.address;
                     document.getElementById("content").innerHTML = account.username+ " is a creator of minimalistic x bold graphics and digital artwork.";
                     document.getElementById("content2").innerHTML = "Artist/ Creative Director by Day #NFT "+account.email+ "with FND night.";
                    document.getElementById("join").innerHTML = account.dateOfBirth;
                },
                error: function (err) {
                    console.error(err);
                }
            });
        }
    };
    getAccount();
</script>
</body>
</html>